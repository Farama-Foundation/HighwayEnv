

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Roundabout &mdash; highway-env  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Parking" href="parking.html" />
    <link rel="prev" title="Merge" href="merge.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> highway-env
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../quickstart.html">Getting Started</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html#making-an-environment">Making an environment</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../quickstart.html#all-the-environments">All the environments</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="highway.html">Highway</a></li>
<li class="toctree-l3"><a class="reference internal" href="merge.html">Merge</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Roundabout</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-configuration">Default configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#api">API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="parking.html">Parking</a></li>
<li class="toctree-l3"><a class="reference internal" href="intersection.html">Intersection</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html#training-an-agent">Training an agent</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html#try-it-on-google-colab">Try it on Google Colab!</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bibliography/index.html">Bibliography</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">highway-env</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../quickstart.html">Getting Started</a> &raquo;</li>
        
      <li>Roundabout</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/environments/roundabout.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="roundabout">
<span id="environments-roundabout"></span><h1>Roundabout<a class="headerlink" href="#roundabout" title="Permalink to this headline">¶</a></h1>
<p>In this task, the ego-vehicle if approaching a roundabout with flowing traffic. It will follow its planned route automatically, but has to handle lane changes and longitudinal control to pass the roundabout as fast as possible while avoiding collisions.</p>
<div class="figure align-center" id="fig-roundabout-env">
<a class="reference internal image-reference" href="https://raw.githubusercontent.com/eleurent/highway-env/gh-media/docs/media/roundabout-env.gif"><img alt="https://raw.githubusercontent.com/eleurent/highway-env/gh-media/docs/media/roundabout-env.gif" src="https://raw.githubusercontent.com/eleurent/highway-env/gh-media/docs/media/roundabout-env.gif" style="width: 80%;" /></a>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">env</span> <span class="o">=</span> <span class="n">gym</span><span class="o">.</span><span class="n">make</span><span class="p">(</span><span class="s2">&quot;roundabout-v0&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="default-configuration">
<h2>Default configuration<a class="headerlink" href="#default-configuration" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;observation&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;TimeToCollision&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;DiscreteMetaAction&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;incoming_vehicle_destination&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
    <span class="s2">&quot;duration&quot;</span><span class="p">:</span> <span class="mi">11</span>
    <span class="s2">&quot;simulation_frequency&quot;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>  <span class="c1"># [Hz]</span>
    <span class="s2">&quot;policy_frequency&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>  <span class="c1"># [Hz]</span>
    <span class="s2">&quot;other_vehicles_type&quot;</span><span class="p">:</span> <span class="s2">&quot;highway_env.vehicle.behavior.IDMVehicle&quot;</span><span class="p">,</span>
    <span class="s2">&quot;screen_width&quot;</span><span class="p">:</span> <span class="mi">600</span><span class="p">,</span>  <span class="c1"># [px]</span>
    <span class="s2">&quot;screen_height&quot;</span><span class="p">:</span> <span class="mi">600</span><span class="p">,</span>  <span class="c1"># [px]</span>
    <span class="s2">&quot;centering_position&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">],</span>
    <span class="s2">&quot;scaling&quot;</span><span class="p">:</span> <span class="mf">5.5</span><span class="p">,</span>
    <span class="s2">&quot;show_trajectories&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s2">&quot;render_agent&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s2">&quot;offscreen_rendering&quot;</span><span class="p">:</span> <span class="kc">False</span>
<span class="p">}</span>
</pre></div>
</div>
<p>More specifically, it is defined in:</p>
<dl class="method">
<dt id="highway_env.envs.roundabout_env.RoundaboutEnv.default_config">
<em class="property">classmethod </em><code class="sig-prename descclassname">RoundaboutEnv.</code><code class="sig-name descname">default_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; dict<a class="reference internal" href="../_modules/highway_env/envs/roundabout_env.html#RoundaboutEnv.default_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#highway_env.envs.roundabout_env.RoundaboutEnv.default_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Default environment configuration.</p>
<p>Can be overloaded in environment implementations, or by calling configure().
:return: a configuration dict</p>
</dd></dl>

</div>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="highway_env.envs.roundabout_env.RoundaboutEnv">
<em class="property">class </em><code class="sig-prename descclassname">highway_env.envs.roundabout_env.</code><code class="sig-name descname">RoundaboutEnv</code><span class="sig-paren">(</span><em class="sig-param">config: dict = None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/highway_env/envs/roundabout_env.html#RoundaboutEnv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#highway_env.envs.roundabout_env.RoundaboutEnv" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="highway_env.envs.roundabout_env.RoundaboutEnv.COLLISION_REWARD">
<code class="sig-name descname">COLLISION_REWARD</code><em class="property">: float</em><em class="property"> = -1</em><a class="headerlink" href="#highway_env.envs.roundabout_env.RoundaboutEnv.COLLISION_REWARD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="highway_env.envs.roundabout_env.RoundaboutEnv.HIGH_SPEED_REWARD">
<code class="sig-name descname">HIGH_SPEED_REWARD</code><em class="property">: float</em><em class="property"> = 0.2</em><a class="headerlink" href="#highway_env.envs.roundabout_env.RoundaboutEnv.HIGH_SPEED_REWARD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="highway_env.envs.roundabout_env.RoundaboutEnv.RIGHT_LANE_REWARD">
<code class="sig-name descname">RIGHT_LANE_REWARD</code><em class="property">: float</em><em class="property"> = 0</em><a class="headerlink" href="#highway_env.envs.roundabout_env.RoundaboutEnv.RIGHT_LANE_REWARD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="highway_env.envs.roundabout_env.RoundaboutEnv.LANE_CHANGE_REWARD">
<code class="sig-name descname">LANE_CHANGE_REWARD</code><em class="property">: float</em><em class="property"> = -0.05</em><a class="headerlink" href="#highway_env.envs.roundabout_env.RoundaboutEnv.LANE_CHANGE_REWARD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<em class="property">classmethod </em><code class="sig-name descname">default_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; dict<a class="reference internal" href="../_modules/highway_env/envs/roundabout_env.html#RoundaboutEnv.default_config"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Default environment configuration.</p>
<p>Can be overloaded in environment implementations, or by calling configure().
:return: a configuration dict</p>
</dd></dl>

<dl class="method">
<dt id="highway_env.envs.roundabout_env.RoundaboutEnv._reward">
<code class="sig-name descname">_reward</code><span class="sig-paren">(</span><em class="sig-param">action: int</em><span class="sig-paren">)</span> &#x2192; float<a class="reference internal" href="../_modules/highway_env/envs/roundabout_env.html#RoundaboutEnv._reward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#highway_env.envs.roundabout_env.RoundaboutEnv._reward" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the reward associated with performing a given action and ending up in the current state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>action</strong> – the last action performed</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the reward</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="highway_env.envs.roundabout_env.RoundaboutEnv._is_terminal">
<code class="sig-name descname">_is_terminal</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../_modules/highway_env/envs/roundabout_env.html#RoundaboutEnv._is_terminal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#highway_env.envs.roundabout_env.RoundaboutEnv._is_terminal" title="Permalink to this definition">¶</a></dt>
<dd><p>The episode is over when a collision occurs or when the access ramp has been passed.</p>
</dd></dl>

<dl class="method">
<dt id="highway_env.envs.roundabout_env.RoundaboutEnv.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="reference internal" href="../_modules/highway_env/envs/roundabout_env.html#RoundaboutEnv.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#highway_env.envs.roundabout_env.RoundaboutEnv.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the environment to it’s initial configuration</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the observation of the reset state</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="highway_env.envs.roundabout_env.RoundaboutEnv.step">
<code class="sig-name descname">step</code><span class="sig-paren">(</span><em class="sig-param">action: int</em><span class="sig-paren">)</span> &#x2192; Tuple[numpy.ndarray, float, bool, dict]<a class="reference internal" href="../_modules/highway_env/envs/roundabout_env.html#RoundaboutEnv.step"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#highway_env.envs.roundabout_env.RoundaboutEnv.step" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform an action and step the environment dynamics.</p>
<p>The action is executed by the ego-vehicle, and all other vehicles on the road performs their default behaviour
for several simulation timesteps until the next decision making step.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>action</strong> – the action performed by the ego-vehicle</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a tuple (observation, reward, terminal, info)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="highway_env.envs.roundabout_env.RoundaboutEnv._make_road">
<code class="sig-name descname">_make_road</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../_modules/highway_env/envs/roundabout_env.html#RoundaboutEnv._make_road"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#highway_env.envs.roundabout_env.RoundaboutEnv._make_road" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="highway_env.envs.roundabout_env.RoundaboutEnv._make_vehicles">
<code class="sig-name descname">_make_vehicles</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../_modules/highway_env/envs/roundabout_env.html#RoundaboutEnv._make_vehicles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#highway_env.envs.roundabout_env.RoundaboutEnv._make_vehicles" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate a road with several vehicles on the highway and on the merging lane, as well as an ego-vehicle.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the ego-vehicle</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="highway_env.envs.roundabout_env.RoundaboutEnv.__annotations__">
<code class="sig-name descname">__annotations__</code><em class="property"> = {'COLLISION_REWARD': &lt;class 'float'&gt;, 'HIGH_SPEED_REWARD': &lt;class 'float'&gt;, 'LANE_CHANGE_REWARD': &lt;class 'float'&gt;, 'RIGHT_LANE_REWARD': &lt;class 'float'&gt;}</em><a class="headerlink" href="#highway_env.envs.roundabout_env.RoundaboutEnv.__annotations__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="highway_env.envs.roundabout_env.RoundaboutEnv.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'highway_env.envs.roundabout_env'</em><a class="headerlink" href="#highway_env.envs.roundabout_env.RoundaboutEnv.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="parking.html" class="btn btn-neutral float-right" title="Parking" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="merge.html" class="btn btn-neutral float-left" title="Merge" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2018, Edouard Leurent

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>